@using Microsoft.AspNetCore.Http;
@model List<Serwis.Models.Domains.Product>
@inject IHttpContextAccessor HttpContextAccessor;
@{
    var sessionForUserId = HttpContextAccessor.HttpContext?.Session.GetString("Id");
}



    @if (Model != null || !Model.Any())
    {
        @foreach (var item in Model)
        {
            <div style="margin-left:10px;">
                <a style="cursor: pointer;" asp-action="Product" asp-controller="Shop" asp-route-productId="@item.Id">
                    <img src="~/images/@item.ImageFileName" />
                </a>
                <span>@item.Name</span>
                <span>@item.Price zł</span>
                <div style="display:block" class="mb-2">
                <a asp-action="SingleProductPurchase" asp-controller="Shop" asp-route-productId="@item.Id"
           class=" mt-1 btn btn-sm btn-secondary">
                    Kupuj
                </a>
                <button class=" mt-1 btn btn-sm btn-primary"
                onclick="AddPositionToCart('@item.Id', '@sessionForUserId')">
                    Dodaj do koszyka
                </button>
                </div>
            </div>
        }

    }
    else
    {
        <h2>Brak pozycji do wyswietlenia</h2>
    }


